#:kivy 1.8.0

ChangesBox:
    orientation: 'horizontal'

    id: 'changes_screen'
    changelist: changelist.__self__
    info: info.__self__
    userinfo: userinfo.__self__
    uncommitted: uncommitted.__self__
    message: message.__self__
    repopathlabel: repopathlabel.__self__
    unpushedlabel: unpushedlabel
    localdiff: localdiff

    Splitter:
        sizable_from: 'right'
        rescale_with_parent: True
        max_size: self.parent.width

        BoxLayout:
            padding_x: '-15dp'
            orientation: 'vertical'
            id: changelist

            Label:
                canvas.before:
                    Color:
                        rgb: .9,.9,.9
                    Rectangle:
                        id: rectangle
                        pos: self.pos
                        size: self.size
                id: info
                name: 'info'
                markup: True
                valign: 'top'
                halign: 'left'
                text_size: self.width, self.height
                strip: True
                shorten: True
                text: "[color=575757][size=12][font=assets/fonts/fontawesome-webfont.ttf][/font][size=12][/color]"
                padding_x: '-10dp'
                padding_y: '-3dp'
                size_hint: 1.0, 0.1

            Label:
                canvas.before:
                    Color:
                        rgb: .9,.9,.9
                    Rectangle:
                        id: rectangle
                        pos: self.pos
                        size: self.size

                id: userinfo
                name: 'userinfo'
                markup: True
                valign: 'top'
                halign: 'left'
                text_size: self.width, self.height
                strip: True
                shorten: True
                text: "[color=000000][size=13][b]Uncommitted Changes[/b][/size][/color]"
                padding_x: '-10dp'
                size_hint: 1.0, 0.20

            Label:
                canvas.before:
                    Color:
                        rgb: .9,.9,.9
                    Rectangle:
                        id: rectangle
                        pos: self.pos
                        size: self.size
                id: repopathlabel
                text: "[color=202020][size=10][font=assets/fonts/fontawesome-webfont.ttf][/font] %s[/size][/color]"%self.path
                markup: True
                path: ""
                padding_x: '-10dp'
                padding_y: '-3dp'
                size_hint: 1.0, 0.07
                valign: 'top'
                halign: 'left'
                text_size: self.width, self.height
                strip: True
                shorten: True

            TextInput:
                id: message
                size_hint_y: None
                focus: True
                hint_text: 'Description'
                height: '74dp'
                font_size: 13
                background_color: .9, .9, .9, 1
                border: 5,5,5,5

            CommitButton:
                text: '[color=202020][font=assets/fonts/fontawesome-webfont.ttf][/font] Commit[/color]'
                size_hint: None, None
                width: '80dp'
                height: '20dp'

            ListView:
                id: uncommitted
                size_hint_y: 0.4
                adapter: ListAdapter(data=root.changes, cls=Factory.ChangesItem, args_converter=root.args_converter)

            BoxLayout:
                orientation: 'vertical'
                Label:
                    id: unpushedlabel
                    text: ""
                    size_hint: 1.0, None
                    text_size: self.width, self.height
                    markup: True
                    height: '25dp'

                ListView:
                    id: uncommitted
                    adapter: ListAdapter(data=root.unpushed, cls=Factory.UnPushedItem, args_converter=root.unpushed_args_converter)


    ScrollView:
        id: localdiff
        localdiffarea: localdiffarea.__self__
        do_scroll_y: True
        size_hint: 1, 1
        bar_pos_x: 'top'
        Label:
            id: localdiffarea
            padding_x: '-5dp'
            text: ''
            font_size: 12
            readonly: True
            valign: 'top'
            markup: True
            text_size: self.parent.width, self.height
            size_hint: 1, None
            height: len(self.text)
