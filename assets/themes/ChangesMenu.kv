#:kivy 1.8.0

ChangesBox:
    orientation: 'horizontal'

    id: 'changes_screen'
    changelist: changelist.__self__
    info: info.__self__
    userinfo: userinfo.__self__
    uncommitted: uncommitted.__self__
    message: message.__self__
    repopathlabel: repopathlabel.__self__
    unpushedlabel: unpushedlabel
    localdiffarea: localdiffarea

    Splitter:
        sizable_from: 'right'
        rescale_with_parent: True
        max_size: self.parent.width
        min_size: 300

        BoxLayout:
            padding_x: '-15dp'
            orientation: 'vertical'
            id: changelist
            uncommitted: uncommitted.__self__
            message: message.__self__

            CustomLabel:
                size_hint: 1.0, None
                height: '10dp'

            BoxLayout:
                orientation: 'horizontal'

                CustomLabel:
                    size_hint: None, 1.0
                    width: '5dp'

                BoxLayout:
                    orientation: 'vertical'
                    CustomLabel:
                        canvas.before:
                            Color:
                                rgb: .9,.9,.9
                            Rectangle:
                                id: rectangle
                                pos: self.pos
                                size: self.size
                        id: info
                        name: 'info'
                        valign: 'top'
                        halign: 'left'
                        text_size: self.width, self.height
                        strip: True
                        shorten: True
                        text: "[color=575757][size=12][font=assets/fonts/fontawesome-webfont.ttf][/font][size=12][/color]"
                        padding_x: '-10dp'
                        padding_y: '-3dp'
                        size_hint: 1.0, 0.1

                    CustomLabel:
                        canvas.before:
                            Color:
                                rgb: .9,.9,.9
                            Rectangle:
                                id: rectangle
                                pos: self.pos
                                size: self.size

                        id: userinfo
                        name: 'userinfo'
                        valign: 'top'
                        halign: 'left'
                        text_size: self.width, self.height
                        strip: True
                        shorten: True
                        text: "[color=000000][size=13][b][font=assets/fonts/fontawesome-webfont.ttf][/font] Uncommitted Changes[/b][/size][/color]"
                        padding_x: '-10dp'
                        size_hint: 1.0, None
                        height: '50dp'

                    CustomLabel:
                        canvas.before:
                            Color:
                                rgb: .9,.9,.9
                            Rectangle:
                                id: rectangle
                                pos: self.pos
                                size: self.size
                        id: repopathlabel
                        text: "[color=202020][size=10][font=assets/fonts/fontawesome-webfont.ttf][/font] %s[/size][/color]"%self.path
                        path: ""
                        padding_x: '-10dp'
                        size_hint: 1.0, None
                        height: '20dp'
                        valign: 'top'
                        halign: 'left'
                        text_size: self.width, self.height
                        strip: True
                        shorten: True

                    BoxLayout:
                        canvas.before:
                            Color:
                                rgb: .9,.9,.9
                            Rectangle:
                                id: rectangle
                                pos: self.pos
                                size: self.size
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: '76dp'
                        CustomLabel:
                            size_hint: None, None
                            height: '50dp'
                            width: '10dp'
                        TextInput:
                            id: message
                            size_hint_y: None
                            focus: True
                            hint_text: 'Description'
                            height: '74dp'
                            font_size: 12
                            background_color: .9, .9, .9, 1
                            border: 5,5,5,5
                        CustomLabel:
                            size_hint: None, None
                            height: '50dp'
                            width: '10dp'

                    BoxLayout:
                        canvas.before:
                            Color:
                                rgb: .9,.9,.9
                            Rectangle:
                                id: rectangle
                                pos: self.pos
                                size: self.size

                        orientation: 'horizontal'
                        size_hint: 1, None
                        height: '25dp'
                        commitbutton: commitbutton.__self__
                        commitpushbutton: commitpushbutton.__self__

                        CustomLabel:
                            size_hint: None, 1.0
                            width: '10dp'
                        CommitandPushButton:
                            id: commitpushbutton
                            text: '[color=202020][font=assets/fonts/fontawesome-webfont.ttf][/font][/color]'

                        CommitButton:
                            id: commitbutton
                            text: '[color=202020]Commit[/color]'
                            size_hint: None, None
                            width: '80dp'
                            height: '20dp'

                    CustomLabel:
                        canvas.before:
                            Color:
                                rgb: .9,.9,.9
                            Rectangle:
                                id: rectangle
                                pos: self.pos
                                size: self.size
                        size_hint: 1.0, None
                        height: '5dp'

                    ListView:
                        id: uncommitted
                        size_hint_y: 0.4
                        adapter: ListAdapter(data=root.changes, cls=Factory.ChangesItem, args_converter=root.args_converter)

                CustomLabel:
                    size_hint: None, 1.0
                    width: '5dp'

            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: 0.6

                CustomLabel:
                    size_hint: None, 1.0
                    width: '5dp'
                BoxLayout:
                    orientation: 'vertical'
                    unpushedlabel: unpushedlabel.__self__
                    unpushedcommits: unpushedcommits.__self__

                    CustomLabel:
                        canvas.before:
                            Color:
                                id: rgbdata
                                rgb: .9,.9,.9
                            Rectangle:
                                id: rectangle
                                pos: self.pos
                                size: self.size
                        id: unpushedlabel
                        text: "[color=000000][size=13][b][font=assets/fonts/fontawesome-webfont.ttf][/font] Unpushed Commits[/b][/size][/color]"
                        size_hint: 1.0, None
                        text_size: self.width, self.height
                        height: '20dp'
                        padding_x: '-10dp'

                    ListView:
                        id: unpushedcommits
                        adapter: ListAdapter(data=root.unpushed, cls=Factory.UnPushedItem, args_converter=root.unpushed_args_converter)
                CustomLabel:
                    size_hint: None, 1.0
                    width: '5dp'

    ScrollView:
        id: localdiffscroll
        CodeInput:
            id: localdiffarea
            padding_x: '5dp'
            font_size: 12
            readonly: True
            size_hint: 1, None
            cursor: None
            height: max(self.minimum_height, localdiffscroll.height)